<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/02/10/hello-world/"/>
      <url>/2023/02/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new "My New Post"</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Data Security Platform</title>
      <link href="/2023/02/08/yuque/Data%20Security%20Platform/"/>
      <url>/2023/02/08/yuque/Data%20Security%20Platform/</url>
      
        <content type="html"><![CDATA[<p><img src="https://8426951-1257309569.cos.ap-shanghai.myqcloud.com/Fkyv06lS_BrSeWjW2tVGlnY0j9d2.jpeg"></p><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><p>A data security platform should have the following capabilities to effectively secure sensitive data:</p><ol><li>Access control: The platform should have the ability to control who has access to sensitive data and ensure that only authorized users are able to access it.</li><li>Encryption: The platform should be able to encrypt sensitive data to protect it in case of a breach.</li><li>Data loss prevention: The platform should have the ability to prevent sensitive data from being inadvertently or maliciously leaked outside of the organization.</li><li>Monitoring and Auditing: The platform should provide monitoring and auditing capabilities to detect and respond to security incidents and ensure compliance with regulations.</li><li>Backup and Recovery: The platform should have a robust backup and recovery capability to ensure that sensitive data can be recovered in the event of a disaster.</li><li>Threat Detection: The platform should have the ability to detect and respond to potential threats to the data, such as malware, phishing attacks, and network breaches.</li><li>Data Governance: The platform should have the ability to manage and govern sensitive data throughout its lifecycle, including classification, retention, and deletion policies.</li></ol><p>This is not an exhaustive list, and the specific capabilities required may vary depending on the size, complexity, and type of the organization and its data. The key is to have a comprehensive security platform that can meet the specific needs of the organization and ensure the confidentiality, integrity, and availability of sensitive data.</p><h1 id="建设"><a href="#建设" class="headerlink" title="建设"></a>建设</h1><p>Building a data security platform requires a comprehensive and systematic approach. Here are the steps that organizations can take to build an effective data security platform:</p><ol><li>Define Security Requirements: Start by identifying the specific security requirements of the organization and the data that needs to be protected. This will help determine the specific capabilities required in the platform.</li><li>Risk Assessment: Conduct a thorough risk assessment to understand the potential threats to the organization’s data and identify vulnerabilities. This will help determine the priority areas that need to be addressed by the security platform.</li><li>Develop a Security Strategy: Based on the risk assessment, develop a comprehensive security strategy that outlines the measures to be taken to protect the data and the roles and responsibilities of different stakeholders.</li><li>Choose the Right Technology: Choose the technology and tools that best meet the specific security requirements of the organization. Consider factors such as scalability, compatibility with existing systems, and vendor support when making a decision.</li><li>Implement and Test: Implement the security platform and conduct thorough testing to ensure that it meets the defined requirements and is effective in protecting the data.</li><li>Train Employees: Train employees on the security policies and procedures and provide them with the necessary tools and training to help them work securely with the data.</li><li>Monitor and Evaluate: Regularly monitor and evaluate the security platform to ensure that it remains effective and relevant in the face of evolving threats and changing business needs.</li></ol><p>Building a data security platform is an ongoing process, and organizations should be prepared to continuously improve and adapt their security measures over time to keep pace with changing threats and evolving technologies.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>开源组件安全</title>
      <link href="/2023/02/07/yuque/%E5%BC%80%E6%BA%90%E7%BB%84%E4%BB%B6%E5%AE%89%E5%85%A8/"/>
      <url>/2023/02/07/yuque/%E5%BC%80%E6%BA%90%E7%BB%84%E4%BB%B6%E5%AE%89%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a><img src="https://8426951-1257309569.cos.ap-shanghai.myqcloud.com//Fs83AIU6yUA6bqIpOWdABT3cjqN9.jpeg"></h1><h1 id="生命周期管理图例"><a href="#生命周期管理图例" class="headerlink" title="生命周期管理图例"></a>生命周期管理图例</h1><p>转自<a href="https://hksanduo.github.io/2021/06/16/2020-12-16-dependency-check/">https://hksanduo.github.io/2021/06/16/2020-12-16-dependency-check/</a></p><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://8426951-1257309569.cos.ap-shanghai.myqcloud.com//Fvt5dPcURtVU8MpcJkx0kCb8IA3v.png"></h2><h1 id="修复方法"><a href="#修复方法" class="headerlink" title="修复方法"></a>修复方法</h1><p>部分外部依赖包可能存在多个漏洞，需综合各个漏洞，为外部依赖包制定整体的修复方案：</p><ul><li>依赖包对应的多个 CVE 漏洞均有修复建议，需根据每个外部依赖包涉及的 CVE 漏洞修复方法制定修复方案</li><li>不同依赖包之间可能存在关联依赖关系，建议采用就高不就低原则，综合考虑，形成每个外部依赖包的整体修复建议</li><li>根据漏洞影响、可利用程度、是否存在简化利用工具进行修复排期，对外提供服务，易遭受攻击的依赖包优先修复</li><li>从整体技术架构层面考虑，考虑修复的难易程度，为整体技术架构升级做准备</li></ul><p>开发团队需根据每个外部依赖包的整体修复建议，采用升级或调整配置等方式，修复外部依赖包的漏洞。在修复时，可参考以下方式：</p><ul><li>确定各依赖包的作用，确定各依赖包在项目中的使用情况，排查项目之间是否存在交叉引用</li><li>升级至修复方案提供的建议版本，在测试环境进行功能测试验证</li><li>查看各依赖包与其他依赖包是否存在依赖关系：如功能独立，则直接升为建议版本；如存在依赖关系，则需要同时升级相关依赖包，并在应用中验证兼容性</li></ul><h1 id="客观困难"><a href="#客观困难" class="headerlink" title="客观困难"></a>客观困难</h1><p>外部依赖库在升级过程中可能存在以下客观困难：</p><ul><li>某一依赖包升级（如 spring 相关依赖包），与此依赖包存在依赖关系的其他 jar 包均需同步升级，工作量及影响均特别大</li><li>依赖包升级后可能存在不兼容、功能不可用问题，除测试其编译是否成功以及基本功能验证之外，对于升级之后对系统带来的影响，还需进行充分的单元测试或系统测试</li><li>可能有些外部依赖包来源于采购的产品，若需升级依赖包，则需联系产品提供商进行升级。</li></ul><p>基于上述困难和问题，开发团队经过验证和评估，对于无法升级到建议版本、升级难度较大或联系产品厂商进行升级存在困难的依赖包，提请安全架构决策，依据漏洞影响面、易受攻击程度等进行综合判断</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul><li>持续构建物料清单为每个应用程序持续构建详细的软件材料清单，从而全面洞察每个应用软件的组件情况。如果存在无法验证来源的开源组件，则不允许使用。</li><li>强化软件供应链通过强化软件供应链来降低安全风险。这包括检查内部和外部源代码、支持脚本、配置文件和其他工件，并创建可信开源组件的内部存储库。而对外部存储库的使用要合理管理。</li><li>风险管理通过制定策略确定可接受的开源组件、对在代码中发现漏洞或受限软件许可的合理响应，来管理风险。</li></ul><h1 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h1><ul><li>企业要有清单列表记录哪些产品使用了哪些开源组件。一旦某个开源组件出现漏洞，可以通过清单列表迅速排查。该清单列表也正是 Gartner 提到的材料清单，将在开源组件管控过程中发挥重要的作用。</li><li>企业要有清单列表记录禁用的开源组件，即，开源组件黑名单。对于那些安全问题比较多、风险较大的第三软件，应加入到这个禁用清单列表中禁止使用。</li><li>企业对于使用较多的开源组件，建议执行静态代码扫描或其他必要的安全测试，提早识别安全漏洞。对于发现的漏洞，提交开源社区，并促使开源社区修复。</li><li>对于开源组件的使用要有安全性指导（主要是规避一些因配置不当引入的安全问题）。</li><li>慎用对安全问题处理态度消极的厂商所开发的开源组件。</li><li>建立统一的组件库，各项目使用统一的技术架构和组件版本，减少后续版本升级的工作量和对项目的影响，在组件入库时即进行入库评审</li></ul>]]></content>
      
      
      <categories>
          
          <category> 开源组件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开源组件 </tag>
            
            <tag> 生命周期 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ClamAV部署及使用</title>
      <link href="/2023/02/06/yuque/ClamAV%E9%83%A8%E7%BD%B2%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/02/06/yuque/ClamAV%E9%83%A8%E7%BD%B2%E5%8F%8A%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>RPM 包下载地址<br><a href="https://www.clamav.net/downloads">https://www.clamav.net/downloads</a></p><h2 id="yum-安装"><a href="#yum-安装" class="headerlink" title="yum 安装"></a>yum 安装</h2><pre><code class="bash">sudo yum update -ysudo yum install repl-releasesudo yum install -y openssl openssl-devel libcurl-devel zlib-devel libpng-devel libxml2-devel json-c-devel bzip2-devel pcre2-devel ncurses-develsudo yum install clamav clamd clamav-update</code></pre><h1 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h1><pre><code class="python">sudo yum remove clamav clamd clamav-update</code></pre><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h2><p><a href="https://docs.clamav.net/">https://docs.clamav.net/</a></p><h2 id="ClamAV-主要组成部分"><a href="#ClamAV-主要组成部分" class="headerlink" title="ClamAV 主要组成部分"></a>ClamAV 主要组成部分</h2><ul><li>clamd - 后台进程</li><li>clamav - 用户端扫描程序</li><li>clamav-data - 扫描器威胁特征库</li><li>clamav-devel - 扫描器程序依赖</li><li>clamav-lib - 扫描器动态调用库</li><li>clamav-milter - Milter module for the Clam Antivirus scanner</li><li>clamav-update - 更新扫描器威胁特征库</li></ul><h2 id="特征库更新"><a href="#特征库更新" class="headerlink" title="特征库更新"></a>特征库更新</h2><p>配置文件位于/etc/freshclam.conf，可修改更新频率，默认是两小时检查一次更新，找到其中的如下一段，把数值改为 1：</p><pre><code class="bash"># Number of database checks per day.# Default: 12 (every two hours)Checks 1</code></pre><p>去掉配置文件中 UpdateLogFile 选项的注释，并设置日志保存的路径<br>执行<code>freshclam</code>命令更新威胁特征库<br>启动后台更新服务</p><pre><code class="bash">systemctl start clamav-freshclamsystemctl enable clamav-freshclam</code></pre><h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><p>配置文件路劲：/etc/clamd.d/scan.conf</p><ul><li>去掉 Logfile 选项的注释，日志文件保存在/var/log/clamd.scan</li><li>LogFileMaxSize 选项建议设置为 10M</li><li>修改 LogSyslog 选项为 no</li><li>OnAccessIncludePath 参数设置需要实时监测的目录</li><li>LocalSocket 去掉注释，并修改为/tmp/clamd.socket</li><li>LocalSocketGroup 去掉注释并修改为 clamscan</li><li>LocalSocketMode 去掉注释并修改为 660</li><li>如果需要阻断恶意文件的读写，需要去掉 OnAccessPrevention 选项的注释，并修改为 yes；如果只是进行检测不阻断，只记录日志，则无需修改。</li></ul><p>都修改完毕后，保存退出。<br>执行如下命令创建日志文件：</p><pre><code>touch /var/log/clamd.scanchown clamscan:clamscan /var/log/clamd.scan</code></pre><h2 id="定时扫描和实时监控"><a href="#定时扫描和实时监控" class="headerlink" title="定时扫描和实时监控"></a>定时扫描和实时监控</h2><h3 id="应用目录定时扫描"><a href="#应用目录定时扫描" class="headerlink" title="应用目录定时扫描"></a>应用目录定时扫描</h3><p>每天凌晨 2 点进行 sftp 目录扫描</p><pre><code class="bash">0 2 * * * /usr/bin/clamscan -r -i --quiet -o -l /var/log/clamscan.log --move=/tmp/infected /sftp</code></pre><h3 id="应用目录实时监控"><a href="#应用目录实时监控" class="headerlink" title="应用目录实时监控"></a>应用目录实时监控</h3><p>暂时禁用 会造成被监听目录的 IO 性能受损、缓存性能受损 IO 读写速度差距约 1 倍 缓存性能的影响约 30 倍)</p><h2 id="上报扫描结果"><a href="#上报扫描结果" class="headerlink" title="上报扫描结果"></a>上报扫描结果</h2><h3 id="配置-Logstash"><a href="#配置-Logstash" class="headerlink" title="配置 Logstash"></a>配置 Logstash</h3><p>简介<br>工具发展里程<br>主要用途</p><p>安装<br>几种安装方式<br>源码安装注意内核以及 curl 版本，还需要安装 Python3 模块 cmake<br>各模块说明</p><p>配置<br>配置文件位置<br>主要使用配置<br>更新特征库<br>启动后台服务</p><p>使用<br>定期目录扫描<br>实时文件监控扫描<br>rest-api 调用</p><p>注意事项</p><p>谷歌实际案例</p>]]></content>
      
      
      <categories>
          
          <category> 工具使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ClamAV </tag>
            
            <tag> 安全扫描 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
